(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/statement/statement2"],{"0aa2":function(e,t,n){"use strict";var i=n("6823"),o=n.n(i);o.a},"2bb6":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var i={uniTable:function(){return n.e("components/uni-table/uni-table").then(n.bind(null,"ed73"))},uniTr:function(){return n.e("components/uni-tr/uni-tr").then(n.bind(null,"1f05"))},uniTh:function(){return n.e("components/uni-th/uni-th").then(n.bind(null,"4a99"))},uniTd:function(){return n.e("components/uni-td/uni-td").then(n.bind(null,"3e1f"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"1dc8"))},uOverlay:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-overlay/u-overlay")]).then(n.bind(null,"62f9"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-button/u-button")]).then(n.bind(null,"068d"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"7460"))},uniRow:function(){return n.e("components/uni-row/uni-row").then(n.bind(null,"97ab"))},uniCol:function(){return n.e("components/uni-col/uni-col").then(n.bind(null,"93d6"))},uDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(n.bind(null,"3149"))},"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u--input/u--input")]).then(n.bind(null,"3431"))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,0!==this.tableData.length?e.__map(e.tableData,(function(t,n){var i=e.__get_orig(t),o=t.cInvName.length>8?t.cInvName.slice(0,8):null,s=t.cInvStd.length>8?t.cInvStd.slice(0,8):null;return{$orig:i,g0:o,g1:s}})):null);e._isMounted||(e.e0=function(t){e.searchOpen=!0},e.e1=function(t){e.startShow=!0},e.e2=function(t){e.endShow=!0}),e.$mp.data=Object.assign({},{$root:{l0:n}})},s=[]},"4f2b":function(e,t,n){"use strict";(function(e){var t=n("47a9");n("641b");t(n("3240"));var i=t(n("766e"));my.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("6861")["createPage"])},"538e":function(e,t,n){"use strict";(function(e){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s=i(n("7eb4")),a=i(n("7ca3")),r=i(n("ee10")),u=n("226c"),c={data:function(){return{popupStyle:{width:"80vw",height:"80vh",backgroundColor:"#ffffff"},_popupStyle:{width:"300rpx",height:"15vh",backgroundColor:"#ffffff"},select_popupStyle:{width:"50vw",height:"100vh",backgroundColor:"#ffffff"},tableData:[],userInfo:{},dynamicDates:[],invList:[],venList:[],personList:[],searchInput:"",selectedItem:null,searchInput1:"",selectedItem1:null,searchInput2:"",selectedItem2:null,scrollTop:0,currentPage:1,pageSize:40,startTime:"",endTime:"",cVenCode:"",cInvCode:"",searchvalue:"",cInvDefine2:"",cInvscx:"",cPersonCode:"",isSHState:"0",isCQState:"0",isLLState:"0",isXCState:"0",startTimeCode:Number(new Date),endTimeCode:Number(new Date),searchOpen:!1,loading:!1,noMoreData:!1,loding:!1,startShow:!1,endShow:!1,drawerRight:!1,drawerRight1:!1,drawerRight2:!1,popupVisible:!1,popupTitle:"",popupContent:"",inputBoxStyle:"bottom:0px",scrollViewHeight:"100vh"}},onReady:function(){},onLoad:function(){var t=this;e.getStorage({key:"userData",success:function(e){t.userInfo=e.data},fail:function(){e.showToast({title:"用户数据读取失败，请重新登录",icon:"none"})}}),setTimeout((function(){t.getDefaultDateRange(),t.search(),t.getInvList(),t.getVenList(),t.getPersonList()}),500)},mounted:function(){},methods:(o={test:function(){console.log(this.cPersonCode)},selectItem:function(e){this.selectedItem=this.selectedItem===e?null:e,null!==this.selectedItem?this.cInvCode=e.cInvCode:this.cInvCode="",this.drawerRight=!1},drawerOpen:function(){this.drawerRight=!0,console.log(this.drawerRight)},drawerClose:function(){this.drawerRight=!1},restSelectItem:function(){this.selectedItem=null,this.cInvCode=""},selectItem1:function(e){this.selectedItem1=this.selectedItem1===e?null:e,null!==this.selectedItem1?this.cVenCode=e.cVenCode:this.cVenCode="",this.drawerRight1=!1},drawerOpen1:function(){this.drawerRight1=!0},drawerClose1:function(){this.drawerRight1=!1},restSelectItem1:function(){this.selectedItem1=null,this.cVenCode=""},selectItem2:function(e){this.selectedItem2=this.selectedItem2===e?null:e,null!==this.selectedItem2?this.cPersonCode=e.cPersonCode:this.cPersonCode="",this.drawerRight2=!1},drawerOpen2:function(){this.drawerRight2=!0},drawerClose2:function(){this.drawerRight2=!1},restSelectItem2:function(){this.selectedItem2=null,this.cPersonCode=""},loadingMore:function(){1!=this.noMoreData&&1!=this.loding&&this.tableData.length&&0==this.loding&&this.getTableData()},textFocus:function(e){var t=e.detail.height;this.inputBoxStyle="bottom:".concat(t,"px"),this.scrollViewHeight="calc(100vh - ".concat(t,"px)")},textBlur:function(){this.inputBoxStyle="bottom:0px",this.scrollViewHeight="100vh"},startConfirm:function(){var e=this;setTimeout((function(){var t=new Date(e.startTimeCode);t.setDate(t.getDate()+1);var n=t.toISOString().split("T")[0];e.startTime=n,console.log(n)}),500),this.startShow=!1},startCancel:function(){this.startShow=!1},endCancel:function(){this.endShow=!1},endConfirm:function(){var e=this;setTimeout((function(){var t=new Date(e.endTimeCode);t.setDate(t.getDate()+1);var n=t.toISOString().split("T")[0];e.endTime=n,console.log(n)}),500),this.endShow=!1}},(0,a.default)(o,"endCancel",(function(){this.endShow=!1})),(0,a.default)(o,"comboxPerson",(function(e){this.getPersonList(e)})),(0,a.default)(o,"showPopup",(function(e,t){this.popupTitle=e,this.popupContent=t,this.popupVisible=!0})),(0,a.default)(o,"closePopup",(function(){this.popupVisible=!1})),(0,a.default)(o,"generateDynamicDates",(function(e,t){var n=[],i=new Date(e),o=new Date(t);while(i<=o){var s=i.getMonth()+1,a=i.getDate(),r="".concat(s.toString().padStart(2,"0"),"-").concat(a.toString().padStart(2,"0"));n.push(r),i.setDate(i.getDate()+1)}this.dynamicDates=n})),(0,a.default)(o,"search",(function(){var t=this;return(0,r.default)(s.default.mark((function n(){return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.startTime&&t.endTime){n.next=3;break}return e.showToast({title:"请选择开始日期和结束日期",icon:"none"}),n.abrupt("return");case 3:return t.searchClose(),t.noMoreData=!1,t.currentPage=1,t.generateDynamicDates(t.startTime,t.endTime),t.tableData=[],n.next=10,t.getTableData();case 10:case"end":return n.stop()}}),n)})))()})),(0,a.default)(o,"getTableData",(function(){var t=this;return(0,r.default)(s.default.mark((function n(){var i;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.loding){n.next=18;break}return t.loading=!0,t.loding=!0,n.prev=3,n.next=6,(0,u.GetOrderByPO)({UserId:t.userInfo.UserId,OnlineCode:t.userInfo.OnlineCode,UserName:t.userInfo.UserName,Openid:t.userInfo.Openid,mobile:t.userInfo.mobile,StartTime:t.startTime,EndTime:t.endTime,cVenCode:t.cVenCode,cInvCode:t.cInvCode,searchvalue:t.searchvalue,cInvDefine2:t.cInvDefine2,cInvscx:t.cInvscx,cPersonCode:t.cPersonCode,isSHState:t.isSHState,isCQState:t.isCQState,page:t.currentPage,pagesize:t.pageSize});case 6:i=n.sent,i.success?i.subdata.length>0?(t.tableData=t.tableData.concat(i.subdata),t.currentPage++):(e.showToast({title:"暂无更多数据",icon:"none"}),t.noMoreData=!0):(console.log("请求异常:",i.message),e.showToast({title:"数据加载失败",icon:"none"})),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),e.showToast({title:"网络请求失败",icon:"none"});case 13:return n.prev=13,t.toUp(),t.loading=!1,t.loding=!1,n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[3,10,13,18]])})))()})),(0,a.default)(o,"getInvList",(function(){var t=this;return(0,r.default)(s.default.mark((function n(){var i;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,u.invList)({UserId:t.userInfo.UserId,OnlineCode:t.userInfo.OnlineCode,cBusType:"工序委外",page:"1",pagesize:"100",cInvCode:t.cInvCode});case 2:i=n.sent,i.success&&(0!==i.subdata.length?(t.invList=[],t.invList=i.subdata):e.showToast({title:"暂无相关产品",icon:"none"}));case 4:case"end":return n.stop()}}),n)})))()})),(0,a.default)(o,"getVenList",(function(){var t=this;return(0,r.default)(s.default.mark((function n(){var i;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,u.venList)({UserId:t.userInfo.UserId,OnlineCode:t.userInfo.OnlineCode,cBusType:"工序委外",page:"1",pagesize:"100",cVenCode:t.cVenCode});case 2:i=n.sent,i.success&&(0!==i.subdata.length?(t.venList=[],t.venList=i.subdata):e.showToast({title:"暂无相关产品",icon:"none"}));case 4:case"end":return n.stop()}}),n)})))()})),(0,a.default)(o,"getPersonList",(function(e){var t=this;return(0,r.default)(s.default.mark((function e(){var n;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.personList)({UserId:t.userInfo.UserId,OnlineCode:t.userInfo.OnlineCode});case 2:n=e.sent,n.success&&(t.venList=[],t.personList=n.subdata);case 4:case"end":return e.stop()}}),e)})))()})),(0,a.default)(o,"rest",(function(){this.getDefaultDateRange(),this.selectedItem2=null,this.selectedItem1=null,this.selectedItem=null,this.cVenCode="",this.cInvCode="",this.searchvalue="",this.cInvDefine2="",this.cInvscx="",this.cPersonCode="",this.isSHState="0",this.isCQState="0",this.isLLState="0",this.isXCState="0"})),(0,a.default)(o,"searchClose",(function(){this.searchOpen=!1})),(0,a.default)(o,"dateChange",(function(e){e&&2==e.length?(this.startTime=e[0],this.endTime=e[1]):(this.startTime="",this.endTime="")})),(0,a.default)(o,"getDefaultDateRange",(function(){var e=new Date,t=new Date(e.setHours(0,0,0,0)),n=new Date(t);n.setDate(n.getDate()+7);var i=function(e){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))};this.startTime=i(t),this.endTime=i(n)})),(0,a.default)(o,"initDateTime",(function(){this.dateTime&&2===this.dateTime.length?(this.startTime=this.dateTime[0],this.endTime=this.dateTime[1]):(this.startTime="",this.endTime="")})),(0,a.default)(o,"toggleSHState",(function(){this.isSHState="0"===this.isSHState?"1":"0"})),(0,a.default)(o,"toggleCQState",(function(){this.isCQState="0"===this.isCQState?"1":"0"})),(0,a.default)(o,"toggleLLState",(function(){this.isLLState="0"===this.isLLState?"1":"0"})),(0,a.default)(o,"toggleXCState",(function(){this.isXCState="0"===this.isXCState?"1":"0"})),(0,a.default)(o,"toUp",(function(){var t=e.createSelectorQuery().in(this);t.select(".uni-container").boundingClientRect((function(t){t&&e.createSelectorQuery().selectViewport().scrollOffset((function(n){var i=n.scrollTop;i<=0?console.log("已经在顶部，不再滚动"):e.pageScrollTo({scrollTop:t.top-2,duration:300})})).exec()})).exec()})),o),onReachBottom:function(){}};t.default=c}).call(this,n("6861")["default"])},6823:function(e,t,n){},"766e":function(e,t,n){"use strict";n.r(t);var i=n("2bb6"),o=n("e5ef");for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);n("0aa2");var a=n("828b"),r=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"0514a602",null,!1,i["a"],void 0);t["default"]=r.exports},e5ef:function(e,t,n){"use strict";n.r(t);var i=n("538e"),o=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=o.a}},[["4f2b","common/runtime","common/vendor"]]]);